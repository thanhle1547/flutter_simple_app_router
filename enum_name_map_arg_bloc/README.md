<!-- <code style="font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;"> -->
                SSSSSSSSSSSSSSS                                              tttt          
              SS:::::::::::::::S                                          ttt:::t          
             S:::::SSSSSS::::::S                                          t:::::t          
             S:::::S     SSSSSSS                                          t:::::t          
             S:::::S              aaaaaaaaaaaaa   uuuuuu    uuuuuu  ttttttt:::::ttttttt    
             S:::::S              a::::::::::::a  u::::u    u::::u  t:::::::::::::::::t    
              S::::SSSS           aaaaaaaaa:::::a u::::u    u::::u  t:::::::::::::::::t    
               SS::::::SSSSS               a::::a u::::u    u::::u  tttttt:::::::tttttt    
                 SSS::::::::SS      aaaaaaa:::::a u::::u    u::::u        t:::::t          
                    SSSSSS::::S   aa::::::::::::a u::::u    u::::u        t:::::t          
                         S:::::S a::::aaaa::::::a u::::u    u::::u        t:::::t          
                         S:::::Sa::::a    a:::::a u:::::uuuu:::::u        t:::::t    tttttt
             SSSSSSS     S:::::Sa::::a    a:::::a u:::::::::::::::uu      t::::::tttt:::::t
             S::::::SSSSSS:::::Sa:::::aaaa::::::a  u:::::::::::::::u      tt::::::::::::::t
             S:::::::::::::::SS  a::::::::::aa:::a  uu::::::::uu:::u        tt:::::::::::tt
              SSSSSSSSSSSSSSS     aaaaaaaaaa  aaaa    uuuuuuuu  uuuu          ttttttttttt  

<!--
<p align="center">
  <span>Ti·∫øng Vi·ªát</span> |
  <a href="./lang/english">English</a> |
</p>
-->

![Saut version](https://img.shields.io/badge/Saut-v0.15.0-brightgreen.svg)
[![License](https://img.shields.io/badge/License-BSD-blue.svg)](https://docs.oracle.com/cloud/latest/big-data-discovery-cloud/BDDLG/cl_bsd_license.htm)

`Saut` cung c·∫•p c√°c ti·ªán √≠ch (utilities) h·ªó tr·ª£ vi·ªác ƒëi·ªÅu h∆∞·ªõng c∆° b·∫£n trong ·ª©ng d·ª•ng s·ª≠ d·ª•ng `flutter_bloc` l√†m state management.

------

## üì¶ Dependency

* dart sdk t·ª´ phi√™n b·∫£n 3.0.0 tr·ªü l√™n

* flutter sdk t·ª´ phi√™n b·∫£n 3.10.0 tr·ªü l√™n

* flutter_bloc b·∫£n m·ªõi nh·∫•t

## üß© C√°c t√≠nh nƒÉng

* S·ª≠ d·ª•ng `enum` thay v√¨ `String` (ƒë·ªÉ khai b√°o v√† ƒëi·ªÅu h∆∞·ªõng)

* [C√≥ th·ªÉ c·∫•u h√¨nh ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng m√† kh√¥ng d√πng `BuildContext`](#c√°ch-c·∫•u-h√¨nh-ƒë·ªÉ-ƒëi·ªÅu-h∆∞·ªõng-m√†-kh√¥ng-c·∫ßn-d√πng-buildcontext)

* [T√≠ch h·ª£p `RouteObserver`](#subscribing-routeobserver)

* [Truy·ªÅn `blocs` qua m√†n h√¨nh kh√°c kh√¥ng c·∫ßn th√¥ng qua `arguments`](#truy·ªÅn-blocs-qua-m√†n-h√¨nh-kh√°c)

* [Th√™m nhi·ªÅu m√†n h√¨nh c√πng m·ªôt l√∫c](#c√°ch-c·∫•u-h√¨nh-ƒë·ªÉ-thi·∫øt-l·∫≠p-s·∫µn-c√°c-m√†n-h√¨nh-khi-v√†o-app)

  V√≠ d·ª• c·ª• th·ªÉ cho tr∆∞·ªùng h·ª£p n√†y l√† ·ª©ng d·ª•ng chat Messenger: Khi b·∫°n ·∫•n v√†o th√¥ng b√°o tin nh·∫Øn m·ªõi, app s·∫Ω chuy·ªÉn ƒë·∫øn m√†n h√¨nh tin nh·∫Øn/ph√≤ng chat ƒë√≥. Sau khi ·∫•n n√∫t quay l·∫°i th√¨ b·∫°n s·∫Ω v·ªÅ l·∫°i m√†n h√¨nh ch·ª©a c√°c cu·ªôc tr√≤ chuy·ªán (ƒë√£ di·ªÖn ra).

## ‚ö†Ô∏è Gi·ªõi h·∫°n

Th∆∞ vi·ªán n√†y ch∆∞a h·ªó tr·ª£ x·ª≠ l√Ω m·ªôt s·ªë tr∆∞·ªùng h·ª£p ƒëi·ªÅu h∆∞·ªõng, bao g·ªìm:

* Nested navigation

* Deep Links

* ƒê·ªëi v·ªõi b·∫£n Web, vi·ªác thay ƒë·ªïi ƒë·ªãa ch·ªâ tr√™n tr√¨nh duy·ªát kh√¥ng l√†m thay ƒë·ªïi m√†n h√¨nh hi·ªán t·∫°i. N√≥i theo c√°ch kh√°c l√† th·ª±c hi·ªán ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn m√†n h√¨nh m·ªõi khi ƒë·ªãa ch·ªâ thay ƒë·ªïi.

## üö© M·ª•c l·ª•c

- [üì¶ Dependency](#-dependency)
- [üß© C√°c t√≠nh nƒÉng](#-c√°c-t√≠nh-nƒÉng)
- [‚ö†Ô∏è Gi·ªõi h·∫°n](#Ô∏è-gi·ªõi-h·∫°n)
- [üö© M·ª•c l·ª•c](#-m·ª•c-l·ª•c)
- [:rocket: Getting started](#rocket-getting-started)
- [:feet: C√°ch s·ª≠ d·ª•ng](#feet-c√°ch-s·ª≠-d·ª•ng)
  - [Chuy·ªÉn m√†n h√¨nh](#chuy·ªÉn-m√†n-h√¨nh)
  - [Quay l·∫°i m√†n h√¨nh c≈©](#quay-l·∫°i-m√†n-h√¨nh-c≈©)
  - [L·∫•y d·ªØ li·ªáu tr·∫£ v·ªÅ t·ª´ m√†n h√¨nh tr∆∞·ªõc](#l·∫•y-d·ªØ-li·ªáu-tr·∫£-v·ªÅ-t·ª´-m√†n-h√¨nh-tr∆∞·ªõc)
  - [Truy·ªÅn d·ªØ li·ªáu qua m√†n h√¨nh kh√°c](#truy·ªÅn-d·ªØ-li·ªáu-qua-m√†n-h√¨nh-kh√°c)
  - [Nh·∫≠n d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn qua m√†n h√¨nh m·ªõi](#nh·∫≠n-d·ªØ-li·ªáu-ƒë∆∞·ª£c-truy·ªÅn-qua-m√†n-h√¨nh-m·ªõi)
  - [Thay th·∫ø m√†n h√¨nh hi·ªán t·∫°i b·∫±ng m√†n h√¨nh kh√°c](#thay-th·∫ø-m√†n-h√¨nh-hi·ªán-t·∫°i-b·∫±ng-m√†n-h√¨nh-kh√°c)
  - [Lo·∫°i b·ªè nhi·ªÅu m√†n h√¨nh v√† thay b·∫±ng m·ªôt m√†n h√¨nh kh√°c](#lo·∫°i-b·ªè-nhi·ªÅu-m√†n-h√¨nh-v√†-thay-b·∫±ng-m·ªôt-m√†n-h√¨nh-kh√°c)
  - [Route Logging](#route-logging)
  - [Thay ƒë·ªïi t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c in ra trong console](#thay-ƒë·ªïi-t√™n-c·ªßa-tuy·∫øn-ƒë∆∞·ªùng-ƒë∆∞·ª£c-in-ra-trong-console)
  - [C√°ch c·∫•u h√¨nh ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng m√† kh√¥ng c·∫ßn d√πng `BuildContext`](#c√°ch-c·∫•u-h√¨nh-ƒë·ªÉ-ƒëi·ªÅu-h∆∞·ªõng-m√†-kh√¥ng-c·∫ßn-d√πng-buildcontext)
  - [Subscribing `RouteObserver`](#subscribing-routeobserver)
  - [Listening `RouteObserver`](#listening-routeobserver)
  - [Truy·ªÅn `blocs` qua m√†n h√¨nh kh√°c](#truy·ªÅn-blocs-qua-m√†n-h√¨nh-kh√°c)
  - [C√°ch c·∫•u h√¨nh ƒë·ªÉ thi·∫øt l·∫≠p s·∫µn C√ÅC m√†n h√¨nh khi v√†o app](#c√°ch-c·∫•u-h√¨nh-ƒë·ªÉ-thi·∫øt-l·∫≠p-s·∫µn-c√°c-m√†n-h√¨nh-khi-v√†o-app)
  - [S·ª≠ d·ª•ng `showDialog` (c√°c modal dialog) v·ªõi `RouterDelegate`](#s·ª≠-d·ª•ng-showdialog-c√°c-modal-dialog-v·ªõi-routerdelegate)
  - [Thi·∫øt l·∫≠p l·∫°i t·∫•t c·∫£ c√°c c·∫•u h√¨nh ƒë√£ ƒë·∫∑t (Reset)](#thi·∫øt-l·∫≠p-l·∫°i-t·∫•t-c·∫£-c√°c-c·∫•u-h√¨nh-ƒë√£-ƒë·∫∑t-reset)
- [:mailbox: B√°o c√°o s·ª± c·ªë](#mailbox-b√°o-c√°o-s·ª±-c·ªë)
- [:question: Q\&A](#question-qa)
- [:scroll: Gi·∫•y ph√©p](#scroll-gi·∫•y-ph√©p)

------

## :rocket: Getting started

1. ƒê·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán n√†y, copy ƒëo·∫°n m√£ d∆∞·ªõi ƒë√¢y v√†o file `pubspec.yaml`:

```yaml
dependencies:

  # other dependencies...

  saut_enma_bloc:
      git:
        url: https://github.com/thanhle1547/flutter_simple_app_router
        ref: flutter_bloc_latest
        path: enum_name_map_arg_bloc
```

2. Ch·∫°y `flutter pub get`.

`Saut` cung c·∫•p 2 v√≠ d·ª• demo t∆∞∆°ng ·ª©ng v·ªõi 2 c√°ch th·ª±c hi·ªán ƒëi·ªÅu h∆∞·ªõng:

* D√πng `context` (Xem [example_w_context](./example_w_context/))

* Kh√¥ng d√πng `context` (Xem [example_wo_context](./example_wo_context/))

<a href="#qa-problem-when-run-flutter-pub-get">‚û≠ B·∫°n ch·∫°y `flutter pub get` nh∆∞ng kh√¥ng c·∫≠p nh·∫≠t ƒë∆∞·ª£c version m·ªõi?</a>

## :feet: C√°ch s·ª≠ d·ª•ng

ƒê·ªÉ `Saut` c√≥ th·ªÉ  ho·∫°t ƒë·ªông, vi·ªác ƒë·∫ßu ti√™n c·∫ßn ph·∫£i l√†m l√† thi·∫øt l·∫≠p c√°c tuy·∫øn ƒë∆∞·ªùng.

1. Khai b√°o t√™n c·ªßa c√°c tuy·∫øn ƒë∆∞·ªùng b·∫±ng ki·ªÉu d·ªØ li·ªáu enum.

V√≠ d·ª•:

```dart
enum AppPages {
  Initial,
  Post_Published,
  Post_EditedDraft,

  // etc.
}
```

·ªû v√≠ d·ª• tr√™n, c√°c gi√° tr·ªã c·ªßa `AppPages` kh√¥ng ƒë∆∞·ª£c ƒë·∫∑t t√™n theo ki·ªÉu `lowerCamelCase`, hay `SCREAMING_SNAKE_CASE, CONSTANT_CASE`. Tho·∫°t nh√¨n, b·∫°n c√≥ th·ªÉ nghƒ© r·∫±ng n√≥ l√† m·ªôt s·ª± h·ªón h·ª£p c·ªßa c√°c ki·ªÉu ƒë·∫∑t t√™n kh√°c nhau (nh∆∞ PascalCase, UpperCamelCase, Pascal_Snake_Case, ...). Tuy nhi√™n, ƒë√¢y l√† quy ∆∞·ªõc ƒë·∫∑t t√™n m√† t√¥i s·∫Ω tr√¨nh b√†y b√™n d∆∞·ªõi ƒë√¢y:

> **L∆∞u √Ω:**
>
> Quy ∆∞·ªõc n√†y kh√¥ng ph·∫£i l√† b·∫Øt bu·ªôc, m√† ch·ªâ l√† m·ªôt **ƒë·ªÅ xu·∫•t**.

<p align="center" id="naming-enum">
    &lt;&lt;First group/Module's name&gt;&gt;
    <b>_</b>
    &lt;&lt;Second group/Module's name&gt;&gt;
    <b>_&ctdot;_</b>
    &lt;&lt;Page/Screen's name&gt;&gt;
</p>

(**Ch√∫ √Ω** v√†o c√°c d·∫•u g·∫°ch d∆∞·ªõi.)

L√Ω do cho s·ª± ra ƒë·ªùi c·ªßa quy ∆∞·ªõc n√†y l√† do c√° nh√¢n t√¥i mu·ªën thay ƒë·ªïi t√™n tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c in ra trong console. C·ª• th·ªÉ v·ªÅ v·∫•n ƒë·ªÅ n√†y s·∫Ω ƒë∆∞·ª£c tr√¨nh b√†y trong ph·∫ßn [Thay ƒë·ªïi t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c in ra trong console](#thay-ƒë·ªïi-t√™n-c·ªßa-tuy·∫øn-ƒë∆∞·ªùng-ƒë∆∞·ª£c-in-ra-trong-console).

Do y√™u c·∫ßu t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng ph·∫£i ƒë∆∞·ª£c khai b√°o b·∫±ng ki·ªÉu d·ªØ li·ªáu enum, n√™n ngo√†i ƒë·ªÅ xu·∫•t tr√™n, b·∫°n c≈©ng c√≥ th·ªÉ khai b√°o nh∆∞ v√≠ d·ª• d∆∞·ªõi ƒë√¢y:

```dart
enum PostPages {
  Published,
  Favorites,
  ...
}

enum VideoPages {
  ...
}

// etc.
```

2. Sau khi khai b√°o t√™n c√°c tuy·∫øn ƒë∆∞·ªùng, b∆∞·ªõc ti·∫øp theo b·∫°n c·∫ßn ph·∫£i l√†m l√†: Thi·∫øt l·∫≠p c·∫•u h√¨nh v√† li√™n k·∫øt c√°c tuy·∫øn ƒë∆∞·ªùng v·ªõi c·∫•u h√¨nh ƒë√≥. C√≥ 2 c√°ch ƒë·ªÉ th·ª±c hi·ªán vi·ªác n√†y:

**C√°ch 1:** S·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c tƒ©nh `Saut.setDefaultConfig()`

V√≠ d·ª•:

```dart
  final routes = {
    AppPages.Initial: RouteConfig(
      // some code ...
    ),
    AppPages.Post: RouteConfig(
      // some code ...
    ),

    // etc.
  };

  Saut.setDefaultConfig(
    initialPage: AppPages.Initial,
    routes: routes,
  );
```

**C√°ch 2:** G·ªçi ph∆∞∆°ng th·ª©c tƒ©nh `Saut.define()` ƒë·ªÉ thi·∫øt l·∫≠p c·∫•u h√¨nh cho t·ª´ng tuy·∫øn ƒë∆∞·ªùng

V√≠ d·ª•:

```dart
  Saut.define(
    page: AppPages.Initial,
    pageBuilder: (arguments) {
      // return your page/screen
    }
  );

  Saut.define(
    page: AppPages.Post,
    pageBuilder: (arguments) {
      // return your page/screen
    }
  );

  // etc.
```

C·ª• th·ªÉ, trong c√°ch 1, tr∆∞·ªõc khi truy·ªÅn `routes` v√†o trong `Saut.setDefaultConfig()`, b·∫°n ph·∫£i thi·∫øt l·∫≠p c·∫•u h√¨nh c·ªßa t·ª´ng tuy·∫øn ƒë∆∞·ªùng:

```dart
final RouteConfig _postPublished = RouteConfig(
  pageBuilder: (arguments) => const PostPublishedScreen(),
);

// etc.
```

r·ªìi sau ƒë√≥, li√™n k·∫øt t√™n tuy·∫øn ƒë∆∞·ªùng v·ªõi c·∫•u h√¨nh t∆∞∆°ng ·ª©ng ƒë√£ khai b√°o ·ªü tr√™n:

```dart
final Map<Enum, RouteConfig> routes = {
  AppPages.Post_Published: _postPublished,

  // etc.
};
```

B·∫£ng d∆∞·ªõi ƒë√¢y m√¥ t·∫£ c√°c tham s·ªë c·ªßa `RouteConfig`:

<table>
  <thead>
    <tr>
      <th>Tham s·ªë</th>
      <th>Ki·ªÉu d·ªØ li·ªáu</th>
      <th>Gi√° tr·ªã m·∫∑c ƒë·ªãnh</th>
      <th>M√¥ t·∫£</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>debugRequiredArguments</td>
      <td>Map\<String, Object\>?</td>
      <td>null</td>
      <td>N·∫øu gi√° tr·ªã ƒë∆∞·ª£c truy·ªÅn v√†o <code>kh√°c null</code> th√¨ trong ch·∫ø ƒë·ªô debug, <code>Saut</code> s·∫Ω ki·ªÉm tra c√°c tham s·ªë (l√† y√™u c·∫ßu b·∫Øt bu·ªôc) ƒë∆∞·ª£c truy·ªÅn qua c√≥ kh·ªõp (v·ªÅ ki·ªÉu d·ªØ li·ªáu)ho·∫∑c b·ªã thi·∫øu so v·ªõi c√°c tham s·ªë ƒë∆∞·ª£c khai b√°o ·ªü ƒë√¢y kh√¥ng v√† tung l·ªói n·∫øu c·∫ßn.</td>
    </tr>
    <tr>
      <td>pageBuilder</td>
      <td>Widget Function(Map<String, dynamic>? arguments)</td>
      <td></td>
      <td>D√πng ƒë·ªÉ x√¢y d·ª±ng m√†n h√¨nh</td>
    </tr>
    <tr>
      <td>transition</td>
      <td>RouteTransition?</td>
      <td>null</td>
      <td>Hi·ªáu ·ª©ng khi chuy·ªÉn m√†n h√¨nh (c√≥ s·∫µn)</td>
    </tr>
    <tr>
      <td>customTransitionBuilderDelegate</td>
      <td>TransitionBuilderDelegate?</td>
      <td>null</td>
      <td>Hi·ªáu ·ª©ng chuy·ªÉn m√†n (c·ªßa ri√™ng b·∫°n)</td>
    </tr>
    <tr>
      <td>transitionDuration</td>
      <td>Duration?</td>
      <td>null</td>
      <td>Th·ªùi gian ch·∫°y hi·ªáu ·ª©ng</td>
    </tr>
    <tr>
      <td>curve</td>
      <td>Curve?</td>
      <td>null</td>
      <td>H√†m s·ªë bi·∫øn ƒë·ªïi hi·ªáu ·ª©ng chuy·ªÉn m√†n</td>
    </tr>
    <tr>
      <td>opaque</td>
      <td>bool</td>
      <td>true</td>
      <td>Sau khi hi·ªáu ·ª©ng chuy·ªÉn m√†n ho√†n th√†nh th√¨ m√†n h√¨nh/tuy·∫øn ƒë∆∞·ªùng m·ªõi c√≥ che khu·∫•t m√†n h√¨nh/tuy·∫øn ƒë∆∞·ªùng tr∆∞·ªõc ƒë√≥ kh√¥ng. N·∫øu gi√° tr·ªã n√†y l√† <code>true</code> th√¨ c√°c m√†n h√¨nh/tuy·∫øn ƒë∆∞·ªùng tr∆∞·ªõc ƒë√≥ s·∫Ω kh√¥ng ƒë∆∞·ª£c x√¢y d·ª±ng (build) l·∫°i ƒë·ªÉ ti·∫øt ki·ªám t√†i nguy√™n. (T·ª´ t√†i li·ªáu c·ªßa flutter)</td>
    </tr>
    <tr>
      <td>fullscreenDialog</td>
      <td>bool</td>
      <td>false</td>
      <td>Li·ªáu tuy·∫øn ƒë∆∞·ªùng n√†y c√≥ ph·∫£i l√† m·ªôt dialog (h·ªôp tho·∫°i) to√†n m√†n h√¨nh hay kh√¥ng. Trong Material v√† Cupertino, to√†n m√†n h√¨nh c√≥ t√°c d·ª•ng l√†m cho c√°c thanh app bars c√≥ n√∫t ƒë√≥ng thay v√¨ n√∫t quay l·∫°i. Tr√™n iOS, dialog kh√¥ng th·ªÉ ƒë√≥ng ƒë∆∞·ª£c b·∫±ng c·ª≠ ch·ªâ. (T·ª´ t√†i li·ªáu c·ªßa flutter)</td>
    </tr>
    <tr>
      <td>debugPreventDuplicates</td>
      <td>bool?</td>
      <td>null</td>
      <td>N·∫øu gi√° tr·ªã ƒë∆∞·ª£c ƒë·∫∑t l√† <code>true</code> th√¨ trong ch·∫ø ƒë·ªô debug, <code>Saut</code> s·∫Ω tung l·ªói khi h√†m <code>toPage()</code> ƒë∆∞·ª£c g·ªçi ƒë·ªÉ chuy·ªÉn sang c√πng 1 m√†n h√¨nh ƒë√≥.</td>
    </tr>
  </tbody>
</table>

### Chuy·ªÉn m√†n h√¨nh

ƒê·ªÉ chuy·ªÉn sang m·ªôt m√†n h√¨nh kh√°c, s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c `Saut.toPage()`. Ph∆∞∆°ng th·ª©c n√†y th·ª±c ch·∫•t g·ªçi h√†m `Navigator.push()`.

```dart
    onPressed: () => Saut.toPage(context, AppPages.Example2),
```

> **L∆∞u √Ω:**
>
> N√™n s·ª≠ d·ª•ng m·ªôt c√°ch g·ªçi ph∆∞∆°ng th·ª©c ƒëi·ªÅu h∆∞·ªõng ƒë·ªÉ gi·ªØ s·ª± nh·∫•t qu√°n.

### Quay l·∫°i m√†n h√¨nh c≈©

S·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c `Saut.back()`. Ph∆∞∆°ng th·ª©c n√†y th·ª±c ch·∫•t g·ªçi h√†m `Navigator.pop()`.

```dart
    onPressed: () => Saut.back(context),
```

B·∫°n c≈©ng c√≥ th·ªÉ tr·∫£ v·ªÅ m·ªôt k·∫øt qu·∫£ sau khi tho√°t m√†n h√¨nh/dialog/...

```dart
void _handleAcceptButtonPressed() => Saut.back(context, result: true);
```

### L·∫•y d·ªØ li·ªáu tr·∫£ v·ªÅ t·ª´ m√†n h√¨nh tr∆∞·ªõc

T∆∞∆°ng t·ª± nh∆∞ `Navigator`, c√°c phu∆°ng th·ª©c ƒëi·ªÅu h∆∞·ªõng ƒë·ªÅu tr·∫£ v·ªÅ m·ªôt `Future` v·ªõi ki·ªÉu d·ªØ li·ªáu c√≥ th·ªÉ null, do ƒë√≥ ta c√≥ th·ªÉ d√πng 1 trong 2 c√°ch d∆∞·ªõi ƒë√¢y ƒë·ªÉ l·∫•y d·ªØ li·ªáu

D√πng t·ª´ kh√≥a async/await

```dart
    onPressed: () async {
        bool? result = await Saut.toPage(context, AppPages.Example2);
    }
```

D√πng h√†m `.then()`

```dart
    onPressed: () => Saut.toPage(context, AppPages.Example2)
        .then((value) => result = value ?? false);
```

### Truy·ªÅn d·ªØ li·ªáu qua m√†n h√¨nh kh√°c

ƒê·ªÉ truy·ªÅn d·ªØ li·ªáu, ta s·ª≠ d·ª•ng tham s·ªë `arguments`, d∆∞·ªõi ƒë√¢y l√† 1 v√≠ d·ª•:

```dart
    onPressed: () => Saut.toPage(
      context, 
      AppPages.Example2,
      arguments: {
        'name': 'Nguy·ªÖn VƒÉn A',
      },
    ),
```

### Nh·∫≠n d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn qua m√†n h√¨nh m·ªõi

**C√°ch 1:** L·∫•y argument v√† truy·ªÅn v√†o h√†m kh·ªüi t·∫°o (constructor) c·ªßa m√†n h√¨nh m·ªõi

```dart
late final RouteConfig _postDetail = RouteConfig(
  pageBuilder: (arguments) => PostDetailScreen(
    name: arguments!['name'] as String,
  ),
);
```

**C√°ch 2:** Truy c·∫≠p th√¥ng qua ph∆∞∆°ng th·ª©c `Saut.extractArguments()`, h√†m n√†y th·ª±c ch·∫•t g·ªçi ƒë·∫øn `ModalRoute.of(context)?.settings.arguments`, v√≠ d·ª•:

```dart
  @override
  Widget build(BuildContext context) {
    final arguments = Saut.extractArguments(context);

    // some code
  }
```

### Thay th·∫ø m√†n h√¨nh hi·ªán t·∫°i b·∫±ng m√†n h√¨nh kh√°c

ƒê·ªÉ thay th·∫ø m√†n h√¨nh hi·ªán t·∫°i b·∫±ng m·ªôt m√†n h√¨nh kh√°c, s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c `Saut.replaceWithPage()`. Ph∆∞∆°ng th·ª©c n√†y th·ª±c ch·∫•t g·ªçi h√†m `Navigator.pushReplacement()`.

```dart
    onPressed: () => Saut.replaceWithPage(context, AppPages.Example2),
```

### Lo·∫°i b·ªè nhi·ªÅu m√†n h√¨nh v√† thay b·∫±ng m·ªôt m√†n h√¨nh kh√°c

ƒê·ªÉ lo·∫°i b·ªè nhi·ªÅu m√†n h√¨nh (kh√¥ng th·ªèa m√£n m·ªôt ƒëi·ªÅu ki·ªán c·ª• th·ªÉ), ho·∫∑c ƒë∆°n gi·∫£n h∆°n l√† lo·∫°i b·ªè t·∫•t c·∫£ m√†n h√¨nh hi·ªán t·∫°i ƒë·ªÉ thay b·∫±ng m·ªôt m√†n h√¨nh kh√°c. S·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c `Saut.replaceAllWithPage()`. Ph∆∞∆°ng th·ª©c n√†y th·ª±c ch·∫•t g·ªçi h√†m `Navigator.pushAndRemoveUntil()`.

Trong ƒë√≥, tham s·ªë `predicate` l√† m·ªôt h√†m ki·ªÉm tra tuy·∫øn ƒë∆∞·ªùng c√≥ n√™n ƒë∆∞·ª£c lo·∫°i b·ªè kh√¥ng d·ª±a tr√™n t√™n c·ªßa n√≥. N·∫øu tham s·ªë n√†y ƒë·ªÉ l√† `null` (m·∫∑c ƒë·ªãnh) th√¨ ph∆∞∆°ng th·ª©c `Saut.replaceAllWithPage()` s·∫Ω lo·∫°i b·ªè t·∫•t c·∫£ m√†n h√¨nh hi·ªán t·∫°i ƒë·ªÉ thay b·∫±ng m·ªôt m√†n h√¨nh kh√°c.

D∆∞·ªõi ƒë√¢y l√† m·ªôt v√†i v√≠ d·ª•:

```dart
    onPressed: () => Saut.replaceAllWithPage(context, AppPages.Example2),
```

```dart
    onPressed: () => Saut.replaceAllWithPage(
      context, 
      AppPages.Example2,
      predicate: Saut.getModalRoutePredicate(AppPages.Example1),
    ),
```

```dart
    onPressed: () => Saut.replaceAllWithPage(
      context, 
      AppPages.Example2,
      predicate: ModelRoute.withName(/example_1),
    ),
```

<!--
<details>

<summary>
  <b>Trong v√≠ d·ª• tr√™n, c√≥ th·ªÉ thay gi√° tr·ªã truy·ªÅn v√†o <code>ModelRoute.withName</code> b·∫±ng enum ƒë∆∞·ª£c kh√¥ng?</b>
</summary>

Tr∆∞·ªõc ti√™n b·∫°n c·∫ßn ƒë·ªçc ph·∫ßn [Thay ƒë·ªïi t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c in ra trong console](#Thay-ƒë·ªïi-t√™n-c·ªßa-tuy·∫øn-ƒë∆∞·ªùng-ƒë∆∞·ª£c-in-ra-trong-console).

N·∫øu b·∫°n kh√¥ng th·ª±c hi·ªán c·∫•u h√¨nh th√¨ b·∫°n ch·ªâ c·∫ßn g·ªçi th√™m h√†m `.toString()`:

```dart
    onPressed: () => Saut.replaceAllWithPage(
      context, 
      AppPages.Example2,
      predicate: ModelRoute.withName(AppPages.Example1.toString()),
    ),
```

Ng∆∞·ª£c l·∫°i, b·∫°n c·∫ßn g·ªçi h√†m ƒë√£ ƒë∆∞·ª£c d√πng ƒë·ªÉ truy·ªÅn v√†o tham s·ªë `routeNameBuilder` nh∆∞ v√≠ d·ª• d∆∞·ªõi ƒë√¢y:

```dart
    onPressed: () => Saut.replaceAllWithPage(
      context, 
      AppPages.Example2,
      predicate: ModelRoute.withName(
        yourCustomRouteNameBuilder(AppPages.Example1)
      ),
    ),
```

</details>
-->

<!--
```dart
    onPressed: () => Saut.replaceAllWithPage(
      context, 
      AppPages.Example2,
      predicate: (Route<dynamic> route) {
        if (route is PageRoute)
          return route.settings.name == name;

        return false;
      },
    ),
```
-->

### Route Logging

Trong qu√° tr√¨nh ph√°t tri·ªÉn, vi·ªác in ra t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng v√† d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn qua ƒë√≥ s·∫Ω h·ªó tr·ª£ m·ªôt ph·∫ßn n√†o th·ªùi gian, c√¥ng s·ª©c ƒë·ªÉ s·ª≠a l·ªói. V√¨ v·∫≠y m√† `Saut` cung c·∫•p cho b·∫°n m·ªôt `RouteObserver` t√™n l√†: `SautRouteLoggingObserver` - ƒë·ªÉ theo d√µi s·ª± thay ƒë·ªïi c·ªßa c√°c tuy·∫øn ƒë∆∞·ªùng.

<details>

<summary>
  <b>V·∫≠y <code>SautRouteLoggingObserver</code> s·∫Ω in ra (nh·ªØng) c√°i g√¨, tr√¥ng n√≥ nh∆∞ th·∫ø n√†o?</b>
</summary>

V√≠ d·ª•, khi chuy·ªÉn sang m·ªôt m√†n h√¨nh m·ªõi, `debug console` s·∫Ω in ra th√¥ng b√°o c√≥ d·∫°ng:

```console
[SAUT] GOING TO: <<route.settings.name>>?argument1=value1&argument2=value2...
```

trong ƒë√≥: route.settings.name l√† t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng hi·ªán t·∫°i

</details>

Trong file ch·ª©a widget MaterialApp, ƒëƒÉng k√Ω `SautRouteLoggingObserver` nh∆∞ m·ªôt navigation observer.

```dart
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      navigatorObservers: [
        if (kDebugMode)
          SautRouteLoggingObserver(),
      ],
    );
  }
```

### Thay ƒë·ªïi t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c in ra trong console

M·∫∑c ƒë·ªãnh `Saut` s·∫Ω g·ªçi h√†m `toString()` ƒë·ªÉ in ra t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng. ƒê·ªÉ thay ƒë·ªïi c√°ch n√≥ ƒë∆∞·ª£c in ra, b·∫°n ph·∫£i thi·∫øt l·∫≠p th√¥ng qua tham s·ªë `routeNameBuilder` trong h√†m `Saut.setDefaultConfig()`. Tham s·ªë n√†y nh·∫≠n v√†o m·ªôt h√†m c√≥ ki·ªÉu nh∆∞ sau: `String Function(Enum page)?`.

```dart
  Saut.setDefaultConfig(
    initialPage: AppPages.Initial,
    routeNameBuilder: yourCustomRouteNameBuilder,
  );
```

<p>
N·∫øu nh∆∞ b·∫°n ƒë·∫∑t t√™n theo nh∆∞ c√°ch m√† t√¥i ƒë√£ ƒë·ªÅ xu·∫•t <a href="#naming-enum">·ªü tr√™n</a>, th√¨ b·∫°n c√≥ th·ªÉ truy·ªÅn v√†o <code>routeNameBuilder</code> h√†m <code>mixedCaseWithUnderscoresEnumRouteNameBuilder</code>.
</p>

```dart
  Saut.setDefaultConfig(
    initialPage: AppPages.Initial,
    routeNameBuilder: mixedCaseWithUnderscoresEnumRouteNameBuilder,
  );
```

<!--
**Nh·∫Øc l·∫°i quy ∆∞·ªõc**:

<center>
    &lt;&lt;First group/Module's name&gt;&gt;
    <b>_</b>
    &lt;&lt;Second group/Module's name&gt;&gt;
    <b>_&ctdot;_</b>
    &lt;&lt;Page/Screen's name&gt;&gt;
</center>
-->

D∆∞·ªõi ƒë√¢y l√† m·ªôt v√†i v√≠ d·ª• k·∫øt qu·∫£ bi·∫øn ƒë·ªïi c·ªßa h√†m `mixedCaseWithUnderscoresEnumRouteNameBuilder`:

* AppPages.Initial ‚áí /initial 

* AppPages.Post_Published ‚áí /post/published

* AppPages.Post_EditedDraft ‚áí /post/edit_draft

B·ªè qua ph·∫ßn `AppPages.`, c√≥ th·ªÉ th·∫•y, d·∫•u `_` ƒë√£ ƒë∆∞·ª£c chuy·ªÉn th√†nh d·∫•u `/`, ch·ªØ c√°i in hoa ·ªü ƒë·∫ßu m·ªói t·ª´ ƒë∆∞·ª£c chuy·ªÉn th√†nh ch·ªØ th∆∞·ªùng v√† th√™m d·∫•u `_` n·∫øu n·∫±m li·ªÅn k·ªÅ nhau (nh∆∞ `EditedDraft` ‚áí edit_draft).

K·∫øt h·ª£p v·ªõi vi·ªác s·ª≠ d·ª•ng `SautRouteLoggingObserver` ƒë√£ ƒë∆∞·ª£c tr√¨nh b√†y trong ph·∫ßn [Route Logging](#route-logging) (·ªü tr√™n) th√¨ t√™n tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c in ra s·∫Ω c√≥ d·∫°ng (path-like structure) nh∆∞ v√≠ d·ª• d∆∞·ªõi ƒë√¢y:

```console
[SAUT] GOING TO: /post/edit_draft?argument1=value1&argument2=value2
```

### C√°ch c·∫•u h√¨nh ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng m√† kh√¥ng c·∫ßn d√πng `BuildContext`

> [example_wo_context](./examples/example_wo_context/) l√† m·ªôt v√≠ d·ª• c·ª• th·ªÉ.

Trong file ch·ª©a widget MaterialApp, t·∫°o `navigatorKey` b·∫±ng ph∆∞∆°ng th·ª©c tƒ©nh `Saut.createNavigatorKeyIfNotExisted()`.

```dart
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      navigatorKey: Saut.createNavigatorKeyIfNotExisted(),
    );
  }
```

ƒê·ªÉ g·ªçi c√°c h√†m `toPage()`, `back()`, ... m√† kh√¥ng c·∫ßn d√πng `BuildContext`, h√£y s·ª≠ d·ª•ng `Saut.navigator.toPage()`, `Saut.navigator.back()`, ...

### Subscribing `RouteObserver`

N·∫øu b·∫°n mu·ªën d√πng `RouteObserver` ƒë·ªÉ l·∫Øng nghe thay ƒë·ªïi, `Saut` cung c·∫•p cho b·∫°n 2 ph∆∞∆°ng th·ª©c tƒ©nh `subscribe` v√† `unsubscribe` ƒë·ªÉ ƒëƒÉng k√Ω v√† h·ªßy ƒëƒÉng k√Ω `RouteAware`. C√°c b∆∞·ªõc th·ª±c hi·ªán nh∆∞ sau:

<p id="step-1-subscribing-route-observer"><p>
B∆∞·ªõc 1: Trong file ch·ª©a widget MaterialApp, ƒëƒÉng k√Ω `SautRouteObserver` nh∆∞ m·ªôt navigation observer.

```dart
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      navigatorObservers: [
        SautRouteObserver(),
      ],
    );
  }
```

B∆∞·ªõc 2: Trong file ch·ª©a `StatefulWidget`,

 - tri·ªÉn khai (implement) `SautRouteSubscriptionStateMixin` trong class State. mixin n√†y s·∫Ω t·ª± ƒë·ªông th·ª±c hi·ªán ƒëƒÉng k√Ω v√† h·ªßy ƒëƒÉng k√Ω, b·∫°n ch·ªâ c·∫ßn ghi ƒë√® 2 ph∆∞∆°ng th·ª©c: `didPushNext` v√† `didPopNext`.


```dart
class ExampleWidget extends StatefulWidget {
  // some code ...
}

class ExampleWidgetState extends State<ExampleWidget> with SautRouteSubscriptionStateMixin {

  // some code ...

  /// Called when a new route has been pushed,
  /// and the current route is no longer visible.
  @override
  void didPushNext() {
    // some code ...
  }

  /// Called when the top route has been popped off,
  /// and the current route shows up.
  @override
  void didPopNext() {
    // some code ...
  }
```

 - Ho·∫∑c b·∫°n c√≥ th·ªÉ th·ª±c hi·ªán th·ªß c√¥ng 2 b∆∞·ªõc ƒë√£ ƒë∆∞·ª£c th·ª±c hi·ªán t·ª± ƒë·ªông ·ªü mixin tr√™n b·∫±ng c√°ch tri·ªÉn khai `RouteAware` trong class State v√† ƒëƒÉng k√Ω n√≥ v·ªõi `SautRouteObserver`.

```dart
class ExampleWidget extends StatefulWidget {
  // some code ...
}

class ExampleWidgetState extends State<ExampleWidget> with RouteAware {

  // some code ...

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    Saut.subscribe(this, context);
  }

  @override
  void dispose() {
    Saut.unsubscribe(this);
    super.dispose();
  }

  /// Called when a new route has been pushed,
  /// and the current route is no longer visible.
  @override
  void didPushNext() {
    // some code ...
  }

  /// Called when the top route has been popped off,
  /// and the current route shows up.
  @override
  void didPopNext() {
    // some code ...
  }
```

### Listening `RouteObserver`

N·∫øu b·∫°n ƒë√£ t·ª´ng d√πng `RouteObserver` ƒë·ªÉ ƒëƒÉng k√Ω nh·∫≠n thay ƒë·ªïi, th√¨ c√≥ th·ªÉ b·∫°n ƒë√£ g·∫∑p ph·∫£i tr∆∞·ªùng h·ª£p c·∫ßn ph·∫£i l·∫Øng nghe t·∫•t c·∫£ thay ƒë·ªïi c·ªßa tuy·∫øn ƒë∆∞·ªùng ƒë·ªÉ c√≥ th·ªÉ x·ª≠ l√Ω logic. V·∫≠y n√™n, ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y, `Saut` cung c·∫•p m·ªôt gi·∫£i ph√°p (ƒë·ªÉ b·∫°n c√¢n nh·∫Øc s·ª≠ d·ª•ng).

<a href="#step-1-subscribing-route-observer">B∆∞·ªõc 1</a> (c·∫•u h√¨nh): t∆∞∆°ng t·ª± nh∆∞ nh∆∞ ph·∫ßn [Subscribing `RouteObserver`](#subscribing-routeobserver). 

ƒêi·ªÉm kh√°c bi·ªát so v·ªõi ph·∫ßn tr√™n n·∫±m ·ªü b∆∞·ªõc 2. T·∫°i b∆∞·ªõc n√†y, b·∫°n c·∫ßn tri·ªÉn khai `SautRouteListerningStateMixin` ho·∫∑c `RouteAware` trong class State. V·ªõi `RouteAware`, thay v√¨ g·ªçi ph∆∞∆°ng th·ª©c `Saut.subscribe()` ƒë·ªÉ ƒëƒÉng k√Ω, th√¨ b·∫°n s·∫Ω g·ªçi ph∆∞∆°ng th·ª©c `Saut.addListener()`. ƒê·ªÉ h·ªßy l·∫Øng nghe, thay `Saut.unsubscribe()` b·∫±ng ph∆∞∆°ng th·ª©c `Saut.removeListener()`.


```dart
class ExampleWidget extends StatefulWidget {
  // some code ...
}

class ExampleWidgetState extends State<ExampleWidget> with RouteAware {

  // some code ...

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    Saut.addListener(this); // ‚áê Notice the changed and the number of arguments
  }

  @override
  void dispose() {
    Saut.removeListener(this); // ‚áê Notice the changed
    super.dispose();
  }

  /// Called when a new route has been pushed,
  /// and the current route is no longer visible.
  @override
  void didPushNext() {
    // some code ...
  }

  /// Called when the top route has been popped off,
  /// and the current route shows up.
  @override
  void didPopNext() {
    // some code ...
  }
```

### Truy·ªÅn `blocs` qua m√†n h√¨nh kh√°c

ƒê·ªÉ c√≥ th·ªÉ truy·ªÅn `blocs/cubits` qua m√†n h√¨nh kh√°c, c√≥ th·ªÉ b·∫°n ƒë√£ nghƒ© ƒë·∫øn vi·ªác truy·ªÅn n√≥ th√¥ng qua tham s·ªë `arguments`. Ngo√†i c√°ch n√†y ra, c√≤n c√≥ m·ªôt c√°ch kh√°c ƒë√≥ l√† truy·ªÅn qua 1 trong 2 tham s·ªë: `blocValue` ho·∫∑c `blocProviders`. D∆∞·ªõi ƒë√¢y l√† v√≠ d·ª• v·ªÅ c√°ch s·ª≠ d·ª•ng 2 tham s·ªë n√†y:

* V√≠ d·ª• truy·ªÅn qua tham s·ªë `blocValue`:

```dart
    onPressed: () => Saut.toPage(
        context, 
        AppPages.Example2,
        arguments: {
            'name': 'Nguy·ªÖn VƒÉn A',
        }
        blocValue: context.read<YourCubit>(),
    ),
```

* V√≠ d·ª• truy·ªÅn qua 1 tham s·ªë `blocProviders`:

```dart
    onPressed: () => Saut.toPage(
        context, 
        AppPages.Example2,
        arguments: {
            'name': 'Nguy·ªÖn VƒÉn A',
        }
        blocProviders: [
          BlocProvider.value(
            value: context.read<YourFirstCubit>(),
          ),
          BlocProvider.value(
            value: context.read<YourSecondCubit>(),
          ),

          // etc.
        ],
    ),
```

### C√°ch c·∫•u h√¨nh ƒë·ªÉ thi·∫øt l·∫≠p s·∫µn C√ÅC m√†n h√¨nh khi v√†o app

> [example_router_delegate](./examples/example_router_delegate/) l√† m·ªôt v√≠ d·ª• c·ª• th·ªÉ.

1. Khai b√°o t√™n c·ªßa c√°c thi·∫øt l·∫≠p. C√°c c√°i t√™n n√†y c√≥ ki·ªÉu d·ªØ li·ªáu kh√°c null, v√≠ d·ª• nh∆∞ String, enum, ...

Theo v√≠ d·ª• tr√™n, trong file [routes/stacked_pages.dart](examples/example_router_delegate/lib/routes/stacked_pages.dart), t√™n c·ªßa c√°c thi·∫øt l·∫≠p n√†y ƒë∆∞·ª£c khai b√°o b·∫±ng ki·ªÉu enum.

```dart
enum AppPageStack {
  tredingPost,
  detailTredingPost,
}
```

2. Ch·ªâ ƒë·ªãnh c√°c m√†n h√¨nh cho m·ªói thi·∫øt l·∫≠p.

V√≠ d·ª•:

```dart
  final Map<AppPageStack, List<Enum>> stackedPages = {
    AppPageStack.tredingPost: [
      AppPages.Post_Published,
      AppPages.Post_Trending,
    ],

    // etc.
  };

  Saut.setDefaultConfig(
    stackedPages: stackedPages,
  );
```

Trong tr∆∞·ªùng h·ª£p b·∫°n c·∫ßn th√™m 1 dialog v√†o trong thi·∫øt l·∫≠p n√†y, `RouteConfig` c√≥ m·ªôt tham s·ªë l√† `routeBuilder` (v√≠ d·ª• trong file [routes/routes.dart](examples/example_router_delegate/lib/routes/routes.dart)). ƒê√¢y l√† m·ªôt h√†m th·ª±c hi·ªán t·∫°o route v√† nh·∫≠n v√†o c√°c tham s·ªë sau:

  - BuildContext context

  - RouteConfig resolvedConfig: ƒê√¢y ch√≠nh l√† config b·∫°n ƒë√£ thi·∫øt l·∫≠p. Trong tr∆∞·ªùng h·ª£p b·∫°n s·ª≠ d·ª•ng c√°c ph∆∞∆°ng th·ª©c ƒëi·ªÅu h∆∞·ªõng (`Saut.toPage`, ...), th√¨ ƒë√¢y ch√≠nh l√† config ƒë√£ ƒë∆∞·ª£c ghi ƒë√® b·ªüi c√°c ph∆∞∆°ng th·ª©c ƒëi·ªÅu h∆∞·ªõng tr√™n.

  - RouteSettings settings: ƒê√¢y l√† settings m√† b·∫°n ph·∫£i truy·ªÅn v√†o route do b·∫°n t·∫°o ra.

  - Widget page: ƒê√¢y ch√≠nh l√† Widget ƒë∆∞·ª£c t·∫°o ra b·ªüi tham s·ªë `pageBuilder`.

3. S·ª≠ d·ª•ng h√†m kh·ªüi t·∫°o `MaterialApp.router` (ho·∫∑c `CupertinoApp.router` t∆∞∆°ng ·ª©ng) thay cho h√†m kh·ªüi t·∫°o m·∫∑c ƒë·ªãnh `MaterialApp`/`CupertinoApp`. Trong ƒë√≥, hai tham s·ªë b·∫Øt bu·ªôc ph·∫£i truy·ªÅn v√†o l√† `routeInformationParser` v√† `routerDelegate` (ƒë∆∞·ª£c t·∫°o qua ph∆∞∆°ng th·ª©c tƒ©nh `Saut.createRouterDelegateIfNotExisted`). M·∫∑c ƒë·ªãnh, n·∫øu tham s·ªë ___`initialPageStackName` kh√°c `null`___ th√¨:

   - Tham s·ªë `arguments` l√† m·ªôt `Map` r·ªóng (ki·ªÉu `Map<String, dynamic>`) v√† t·∫•t c·∫£ c√°c m√†n trong thi·∫øt l·∫≠p ƒë√≥ s·∫Ω c√πng nh·∫≠n ƒë∆∞·ª£c c√πng m·ªôt `arguments`. V√≠ d·ª• v·ªõi thi·∫øt l·∫≠p `AppPageStack.tredingPost` ·ªü tr√™n, c·∫£ 2 m√†n `AppPages.Post_Published` v√† `AppPages.Post_Trending` ƒë·ªÅu c√πng nh·∫≠n m·ªôt `arguments`.

   - RouterDelegate s·∫Ω ∆∞u ti√™n s·ª≠ d·ª•ng `initialPageStackName` thay v√¨ `initialPage`.

```dart
  Widget build(BuildContext context) {
    return MaterialApp.router(
      routeInformationParser: const SautRouteInformationParser(),
      routerDelegate: Saut.createRouterDelegateIfNotExisted(
        navigatorObservers: [SautRouteLoggingObserver()], // optional
        initialPage: yourInitialPage,                     // optional
        initialPageStackName: yourInitialPageStackName,   // optional
        arguments: yourArguments,                         // optional
      ),
    );
  }
```

### S·ª≠ d·ª•ng `showDialog` (c√°c modal dialog) v·ªõi `RouterDelegate`

Kh√¥ng th·ªÉ s·ª≠ d·ª•ng c√°c Imperative apis c·ªßa Flutter, bao g·ªìm c·∫£ `showDialog`, `showModalBottomSheet`, ... khi d√πng `RouterDelegate`.

<!--
B·∫±ng c√°ch t·∫°o `RouteSettings` th√¥ng qua ph∆∞∆°ng th·ª©c `Saut.createRouteSettings`, b·∫°n v·∫´n c√≥ th·ªÉ s·ª≠ d·ª•ng `showDialog`, `showGeneralDialog`, ... N·∫øu b·∫°n kh√¥ng t·∫°o `RouteSettings` th√¥ng qua ph∆∞∆°ng th·ª©c tr√™n, sau khi hi·ªÉn th·ªã dialog, b·∫°n ti·∫øp t·ª•c chuy·ªÉn qua m√†n h√¨nh kh√°c, Flutter s·∫Ω tung ra m·ªôt l·ªói trong qu√° tr√¨nh assert, ·∫£nh h∆∞·ªüng ƒë·∫øn vi·ªác ƒëi·ªÅu h∆∞·ªõng.

> B·∫°n v·∫´n n√™n c·∫•u h√¨nh b·∫±ng `routeBuilder` c·ªßa `RouteConfig` v√† s·ª≠ d·ª•ng `Saut.toPage` nh∆∞ ƒë√£ ƒë·ªÅ c·∫≠p ·ªü ph·∫ßn b√™n tr√™n.

L√Ω do l√† Flutter v·∫´n s·∫Ω tung ngo·∫°i l·ªá trong qu√° tr√¨nh assert v·ªõi n·ªôi dung: "A page-based route should not be added using the imperative api. Provide a new list with the corresponding Page to Navigator.pages instead". Ngo·∫°i l·ªá n√†y __kh√¥ng__ ·∫£nh h∆∞·ªüng ƒë·∫øn vi·ªác ƒëi·ªÅu h∆∞·ªõng nh∆∞ng s·∫Ω lu√¥n xu·∫•t hi·ªán tr√™n console m·ªói khi s·ª≠ d·ª•ng c√°c api n√†y.
-->

### Thi·∫øt l·∫≠p l·∫°i t·∫•t c·∫£ c√°c c·∫•u h√¨nh ƒë√£ ƒë·∫∑t (Reset)

S·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c tƒ©nh `Saut.reset`.

## :mailbox: B√°o c√°o s·ª± c·ªë

N·∫øu b·∫°n g·∫∑p b·∫•t k·ª≥ v·∫•n ƒë·ªÅ n√†o, h√£y s·ª≠ d·ª•ng [Github Issues forum](https://github.com/thanhle1547/flutter_simple_app_router/issues) ƒë·ªÉ t·∫°o m·ªôt s·ª± c·ªë.

<!-- 
## ‚úçÔ∏è Contributing

N·∫øu b·∫°n c·∫£m th·∫•y h·ª©ng th√∫ v√† mu·ªën ƒë√≥ng g√≥p v√†o th∆∞ vi·ªán n√†y, vui l√≤ng xem qua [Contributing Guide](./wiki/Contribution-Guide) ƒë·ªÉ bi·∫øt c√°c th√¥ng tin li√™n quan.

B·∫°n c√≥ th·ªÉ ƒë·ªÉ l·∫°i m·ªôt ng√¥i sao (GitHub Star) n·∫øu th·∫•y th∆∞ vi·ªán n√†y tuy·ªát v·ªùi ho·∫∑c ƒë·ªÉ m√¨nh c√≥ th√™m ƒë·ªông l·ª±c ph√°t tri·ªÉn th∆∞ vi·ªán.
-->

## :question: Q&A

<details>

<summary>
  <b>C√≥ c√°ch n√†o l·∫•y ƒë∆∞·ª£c t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng hi·ªán t·∫°i kh√¥ng?</b>
</summary>

C√≥. B·∫°n c·∫ßn g·ªçi ph∆∞∆°ng th·ª©c tƒ©nh `Saut.getCurrentRouteName()` ƒë·ªÉ c√≥ th·ªÉ l·∫•y t√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng hi·ªán t·∫°i. T√™n c·ªßa tuy·∫øn ƒë∆∞·ªùng n√†y ki·ªÉu String, kh√¥ng ph·∫£i ki·ªÉu enum - c√°i m√† b·∫°n d√πng ƒë·ªÉ c·∫•u h√¨nh.

Ngo√†i ra, b·∫°n c≈©ng c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c tuy·∫øn ƒë∆∞·ªùng hi·ªán t·∫°i th√¥ng qua ph∆∞∆°ng th·ª©c tƒ©nh `Saut.getCurrentRoute()`.

</details>

<details id="qa-problem-when-run-flutter-pub-get">

<summary>
  <b>Sau khi ch·∫°y `flutter pub get` nh∆∞ng kh√¥ng th·∫•y t√≠nh nƒÉng/b·ªï sung/thay ƒë·ªïi m·ªõi?</b>
</summary>

1. Copy SHA c·ªßa commit m·ªõi nh·∫•t.

[![GitHub last commit (branch)](https://img.shields.io/github/last-commit/thanhle1547/flutter_simple_app_router/flutter_bloc_latest)](https://github.com/thanhle1547/flutter_simple_app_router/commits/flutter_bloc_latest)

2. T√¨m t√™n th∆∞ vi·ªán (`saut_enma_bloc`) trong file `pubspec.lock`.

3. Thay th·∫ø gi√° tr·ªã trong `resolved-ref` b·∫±ng SHA v·ª´a copy (b·ªè qua version).

Preview:

```lock
  saut_enma_bloc:
    dependency: "direct main"
    description:
      path: enum_name_map_arg_bloc
      ref: "flutter_bloc_latest"
      resolved-ref: "69fd9e8a4142fcb732ecf6c23ec4e66a61f07f2e"
      url: "https://github.com/thanhle1547/flutter_simple_app_router"
    source: git
    version: "0.1.1"
```

4. Nh·ªõ l∆∞u file.

5. (C√≥ th·ªÉ b·ªè qua) ƒê·ªÉ ch·∫Øc ch·∫Øn l√† b·∫°n c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c code m·ªõi nh·∫•t v·ªÅ, h√£y x√≥a th∆∞ vi·ªán ƒë√£ ƒë∆∞·ª£c t·∫£i v·ªÅ ·ªü trong `.pub-cache` r·ªìi h·∫µng xem b∆∞·ªõc 6.

* Windows: %LOCALAPPDATA%\Pub\Cache\git

* macOS v√† Linux (trong th∆∞ m·ª•c home): `/.pub-cache/git`

  - Tr√™n Linux:
 
    N·∫øu b·∫°n c√†i flutter b·∫±ng snap th√¨ c√≥ th·ªÉ xem trong: `~/snap/flutter/common/flutter/.pub-cache/`

    Ho·∫∑c trong SDK c·ªßa flutter: `/flutter/.pub-cache/`

6. Ch·∫°y `flutter pub get`.

</details>


<details id="qa-need-passing-bloc-without-adding-dependency-or-change-the-code">

<summary>
  <b>N·∫øu nh∆∞ t√¥i c·∫ßn truy·ªÅn <code>bloc</code> v√†o 1 m√†n h√¨nh, m√† <code>bloc</code> ƒë√≥ ƒë∆∞·ª£c l·∫•y t·ª´ m√†n h√¨nh tr∆∞·ªõc ƒë√≥. T√¥i kh√¥ng mu·ªën ƒë·∫∑t <code>bloc</code> ƒë√≥ l√™n ph√≠a tr√™n <code>MaterialApp</code>. C√≥ c√°ch n√†o ƒë·ªÉ x·ª≠ l√Ω tr∆∞·ªùng h·ª£p n√†y kh√¥ng (kh√¥ng d√πng th√™m th∆∞ vi·ªán kh√°c, nh∆∞ <code>get_it</code>, ...)?</b>
</summary>

C√≥. B·∫°n c√≥ th·ªÉ t·∫°o 1 Completer v√† truy·ªÅn n√≥ ƒë·∫øn m√†n c·∫ßn bloc ƒë√≥.

Trong v√≠ d·ª• ƒë√£ ƒë∆∞·ª£c nh·∫Øc t·ªõi b√™n tr√™n ([example_router_delegate](./examples/example_router_delegate/)) ƒë√£ c√≥ ch·ª©a v√≠ d·ª• x·ª≠ l√Ω cho t√¨nh hu·ªëng n√†y.

1. Trong file `main.dart`, th√™m 1 tham s·ªë l√† `Completer` v·ªõi ki·ªÉu d·ªØ li·ªáu l√† bloc.

```dart
    arguments = selectedNotificationPayload == null
        ? null
        : {
            ...jsonDecode(selectedNotificationPayload!) as Map<String, dynamic>,
            'postFavoritesCubitCompleter': Completer<PostFavoritesCubit>(), // ‚áê Notice this line
          };
```

2. Trong file `routes/routes.dart`:

Sau khi kh·ªüi t·∫°o bloc (·ªü m√†n tr∆∞·ªõc ƒë√≥), g·ªçi h√†m complete c·ªßa completer n·∫øu completer ch∆∞a completed.

```dart
        final Completer<PostFavoritesCubit>? completer =
            arguments?['postFavoritesCubitCompleter'];

        if (completer != null && completer.isCompleted == false) {
          completer.complete(context.read<PostFavoritesCubit>());
        }
```

C≈©ng v·ªõi completer ·∫•y, truy·ªÅn n√≥ v√†o m√†n h√¨nh m√† b·∫°n c·∫ßn bloc ƒë·ªÉ s·ª≠ d·ª•ng:

```dart
      child: PostTrendingDialog(
        postFavoritesCubitCompleter: completer,
      ),
```

</details>

## :scroll: Gi·∫•y ph√©p

`Saut` ƒë∆∞·ª£c ph√¢n ph·ªëi d∆∞·ªõi gi·∫•y ph√©p BSD-3-Clause. Phi√™n b·∫£n ƒë·∫ßy ƒë·ªß c·ªßa gi·∫•y ph√©p n√†y ·ªü trong file LICENSE.
